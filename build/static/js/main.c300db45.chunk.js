(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{169:function(e,t,n){e.exports=n(236)},195:function(e,t,n){},196:function(e,t,n){},197:function(e,t,n){},198:function(e,t,n){},221:function(e,t){},226:function(e,t,n){},227:function(e,t,n){},228:function(e,t,n){},229:function(e,t,n){},230:function(e,t,n){},231:function(e,t,n){},233:function(e,t,n){},236:function(e,t,n){"use strict";n.r(t),n.d(t,"history",(function(){return Ye}));var a=n(0),r=n.n(a),c=n(12),i=n.n(c),o=n(4),s=n(274),l=n(150),u=n(151),m=n(156),d=n(33),f=n.n(d),p=n(67),v=n(27),g=n(35),h=n.n(g);h.a.defaults.baseURL="http://ec2-54-169-224-52.ap-southeast-1.compute.amazonaws.com:5000/api/v1/",h.a.interceptors.request.use((function(e){var t=window.localStorage.getItem("jwt");return t&&(e.headers.Authorization=t),e})),h.a.interceptors.response.use((function(e){return e}),(function(e){return Promise.reject(e.response.data)}));var E=function(e){return e.data},b={get:function(e){return h.a.get(e).then(E)},post:function(e,t){return h.a.post(e,t).then(E)},put:function(e,t){return h.a.put(e,t).then(E)},del:function(e){return h.a.delete(e).then(E)},postForm:function(e,t){var n=new FormData;return n.append("File",t),h.a.post(e,n,{headers:{"Content-type":"multipart/form-data"}}).then(E)},postFile:function(e,t){var n=new FormData;return n.append("File",t),h.a.post(e,n,{headers:{"Content-type":"multipart/form-data"}}).then(E)}},N={findByKeyword:function(e){return b.get("friend/getbykeyword/"+e)},getListNotVerify:function(){return b.get("/friend/getFriendNotVerify")},verifyFriend:function(e){return b.post("/friend/verifyFriend",{idFriend:e})},unFriend:function(e){return b.get("/friend/unfriend/".concat(e))}},I={getListMessage:function(){return b.get("message/getByIdUser")},getContentMessage:function(e){return b.get("message/getMessageContent?conversationId="+e)}},O=n(48),j=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5e3;O.b.error(e,{position:"top-right",autoClose:t,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})},y={chats:[],idUserRecive:void 0,conversationId:void 0,contentChat:[],isSearch:!1,listFriendSearch:[],userSelect:{username:"",birthday:"",email:"",image:"",sex:!1}},S=Object(v.b)("chat/getListMessage",function(){var e=Object(p.a)(f.a.mark((function e(t,n){var a,r,c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.rejectWithValue,e.prev=1,e.next=4,I.getListMessage();case 4:return r=e.sent,e.abrupt("return",r);case 8:return e.prev=8,e.t0=e.catch(1),c=e.t0,j(c.description),e.abrupt("return",a(c));case 13:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n){return e.apply(this,arguments)}}()),F=Object(v.b)("chat/getContentMessageByConvId",function(){var e=Object(p.a)(f.a.mark((function e(t,n){var a,r,c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.rejectWithValue,e.prev=1,e.next=4,I.getContentMessage(t);case 4:return r=e.sent,e.abrupt("return",r);case 8:return e.prev=8,e.t0=e.catch(1),c=e.t0,e.abrupt("return",a(c));case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n){return e.apply(this,arguments)}}()),C=Object(v.b)("chat/findFriendByKeyword",function(){var e=Object(p.a)(f.a.mark((function e(t,n){var a,r,c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.rejectWithValue,e.prev=1,e.next=4,N.findByKeyword(t);case 4:return r=e.sent,Ye.push("/friend"),e.abrupt("return",r);case 9:return e.prev=9,e.t0=e.catch(1),c=e.t0,j(c.description),e.abrupt("return",a(c));case 14:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,n){return e.apply(this,arguments)}}()),w=Object(v.c)({name:"chat",initialState:y,reducers:{addMessage:function(e,t){var n=t.payload;e.idUserRecive&&e.idUserRecive&&(e.idUserRecive===n.idSend?e.contentChat.push({content:n.content,isSend:!1,time:new Date}):e.contentChat.push({content:n.content,isSend:!0,time:new Date}));var a=e.chats.findIndex((function(e){return e.conversationId===n.conversationId}));if(-1===a){var r=n.username+"";e.chats.push({username:r,content:"",conversationId:n.conversationId,isSend:!1,userFriendId:n.idSend,image:n.image})}else{var c=Object(m.a)({},e.chats[a]);c.content=n.content;var i=new Date;c.time=i.toISOString(),e.chats[a]=c}},setIdUserRecive:function(e,t){var n=t.payload;if(e.idUserRecive!==n){e.idUserRecive=n;var a=e.chats.findIndex((function(e){return e.userFriendId===n}));if(-1!==a){var r=e.chats[a];e.userSelect=r}}},onAddUserChat:function(e,t){var n=t.payload;e.chats.push(n)},setWaitForAdd:function(e,t){var n=t.payload,a=e.listFriendSearch.findIndex((function(e){return e.id===n}));-1!==a&&(e.listFriendSearch[a].isSend=!0)}},extraReducers:function(e){e.addCase(S.fulfilled,(function(e,t){var n=t.payload;e.chats=n})),e.addCase(F.fulfilled,(function(e,t){var n=t.payload;e.contentChat=n.messageContent.reverse(),e.conversationId=n.conversationId,e.isSearch=!1})),e.addCase(C.fulfilled,(function(e,t){var n=t.payload;e.isSearch=!0,e.listFriendSearch=n}))}}),k=w.reducer,L=w.actions,R=L.addMessage,U=L.setIdUserRecive,x=(L.setWaitForAdd,L.onAddUserChat),A=k,T=n(24),V=n.n(T),B=r.a.memo((function(e){var t=e.content,n=e.isSend,a=e.image;return r.a.createElement("div",{className:"content-chat-item"},!n&&(a?r.a.createElement("img",{src:a,alt:"img"}):r.a.createElement(V.a,null)),r.a.createElement("div",{className:n?"chat-content chat-content-isSend":"chat-content"},t))})),_=(n(195),r.a.memo((function(){var e=Object(o.c)((function(e){return e.chat.contentChat})),t=Object(o.c)((function(e){return e.chat.userSelect.image})),n=Object(a.useRef)(),c=function(){n.current.scrollIntoView()};return Object(a.useEffect)((function(){c()}),[n,c]),r.a.createElement("div",{className:"content-chat"},e.map((function(e,n){return r.a.createElement(B,{image:t,content:e.content,isSend:e.isSend,key:n})})),r.a.createElement("div",{id:"messagesEndRef",ref:n}))}))),M=r.a.memo((function(e){var t=e.data,n=e.isSelect,a=Object(o.b)();return r.a.createElement(l.a,null,r.a.createElement(u.a,null,r.a.createElement("div",{className:"wrap-chat-item"},r.a.createElement("div",{className:n?"chat-item chat-item-select":"chat-item",onClick:function(e){return a(U(t.userFriendId)),void a(F(t.conversationId))}},t.image?r.a.createElement("img",{src:t.image,alt:"user-mess"}):r.a.createElement(V.a,null),r.a.createElement("div",{className:"conv-info-content"},r.a.createElement("p",{className:"username"},t.username),r.a.createElement("p",{className:"content"},function(e,t,n){var a=n?n.split("T")[1].split(".")[0].split(":"):"",r=a?a[0]+":"+a[1]:"";return(t?e?t.slice(0,20):t.slice(0,40):"")+" "+r}(t.isSend,t.content,t.time)))))))})),D=r.a.memo((function(e){var t=e.data,n=Object(o.c)((function(e){return e.chat.idUserRecive}));return r.a.createElement(s.a,{className:"list-chat-content"},t.map((function(e){return r.a.createElement(M,{data:e,key:e.conversationId,isSelect:n===e.userFriendId})})))})),K=r.a.memo((function(){var e=Object(o.c)((function(e){return e.login})).image;return r.a.createElement("div",{className:"header"},e&&r.a.createElement("img",{src:e,alt:"img"}),r.a.createElement("p",{className:"title"},"Chat"))})),P=(n(196),r.a.memo((function(){var e=Object(o.c)((function(e){return e.chat.chats}));return r.a.createElement("div",{className:"list-chat"},r.a.createElement(K,null),r.a.createElement(D,{data:e}))}))),W=(n(197),n(20)),z=(n(198),r.a.memo((function(){var e,t=Object(a.useState)({username:"",birthday:"",email:"",image:"",sex:!1}),n=Object(W.a)(t,2),c=n[0],i=n[1],s=Object(o.c)((function(e){return e.chat})),l=s.idUserRecive,u=s.userSelect;return Object(a.useEffect)((function(){l&&i(u)}),[l,u]),r.a.createElement("div",{className:"user-info"},c.image?r.a.createElement("img",{src:c.image,alt:"logo"}):r.a.createElement(V.a,null),r.a.createElement("p",{className:"username"},c.username),r.a.createElement("div",{className:"user-info-sub"},r.a.createElement("p",{className:"sub"},"Email "),r.a.createElement("p",{className:"content"},c.email)),r.a.createElement("div",{className:"user-info-sub"},r.a.createElement("p",{className:"sub"},"Ng\xe0y Sinh "),r.a.createElement("p",{className:"content"},null===(e=c.birthday)||void 0===e?void 0:e.split("T")[0])),r.a.createElement("div",{className:"user-info-sub"},r.a.createElement("p",{className:"sub"},"Gi\u1edbi T\xednh "),r.a.createElement("p",{className:"content"},c.sex?"Nam":"N\u1eef")))}))),H=n(30),G={login:function(e){return b.post("account/login",e)},getCurrent:function(){return b.get("user/getcurrent")}},J=Object(v.b)("login/userlogin",function(){var e=Object(p.a)(f.a.mark((function e(t,n){var a,r,c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.rejectWithValue,e.prev=1,e.next=4,G.login(t);case 4:return r=e.sent,e.abrupt("return",r);case 8:return e.prev=8,e.t0=e.catch(1),c=e.t0,j(c.description),e.abrupt("return",a(c));case 13:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n){return e.apply(this,arguments)}}()),q=Object(v.c)({name:"login",initialState:{isLoggedIn:!1,appLoaded:!1,userId:"",image:""},reducers:{checkCurrentSuccess:function(e,t){var n=t.payload;e.userId=n.userId,e.appLoaded=!0,e.isLoggedIn=!0,e.image=n.image},checkCurrentFail:function(e){window.localStorage.removeItem("jwt"),e.appLoaded=!0,e.isLoggedIn=!1},logoutAccount:function(e){e.image="",e.isLoggedIn=!1,e.userId="",window.localStorage.removeItem("jwt")},setNewImage:function(e,t){var n=t.payload;e.image=n}},extraReducers:function(e){e.addCase(J.fulfilled,(function(e,t){var n=t.payload;window.localStorage.setItem("jwt",n.token),e.appLoaded=!0,e.userId=n.userId,e.isLoggedIn=!0,e.image=n.image}))}}),X=q.reducer,Q=q.actions,Y=Q.checkCurrentSuccess,Z=Q.checkCurrentFail,$=Q.logoutAccount,ee=Q.setNewImage,te=X,ne=Object(v.c)({name:"nav",initialState:{listFriendNotVerify:[]},reducers:{onAddToListFriendNotVerify:function(e,t){var n=t.payload;e.listFriendNotVerify=n},onAcceptFriend:function(e,t){var n=t.payload,a=e.listFriendNotVerify.findIndex((function(e){return e.friendId===n}));-1!==a&&e.listFriendNotVerify.splice(a,1)},onAddNewItem:function(e,t){var n=t.payload;e.listFriendNotVerify.push({friendId:n.friendId,image:n.image,username:n.username,userFriendId:n.idUserSend})},removeFriend:function(e,t){var n=t.payload,a=e.listFriendNotVerify.findIndex((function(e){return e.friendId===n}));-1!==a&&e.listFriendNotVerify.splice(a,1)}},extraReducers:function(e){}}),ae=ne.reducer,re=ne.actions,ce=re.onAddToListFriendNotVerify,ie=re.onAcceptFriend,oe=re.onAddNewItem,se=re.removeFriend,le=ae,ue=Object(H.c)({chat:A,login:te,nav:le}),me=Object(v.a)({reducer:ue}),de=me.dispatch,fe=me,pe=n(152),ve=n.n(pe),ge=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_API_URL:"http://ec2-54-169-224-52.ap-southeast-1.compute.amazonaws.com:5000/api/v1/"}).REACT_APP_CHAT_URL,he=ve.a.connect(ge),Ee="";he.on("new_msg",(function(e){var t={content:e.content,idSend:e.idUserSend,idRecive:e.idUserRecive,isSend:Ee===e.idUserSend,conversationId:e.conversationId,image:e.image,username:e.username};de(R(t))})),he.on("recive_invitation_friend",(function(e){de(oe(e))})),he.on("addNewUserToListChat",(function(e){console.log(e),console.log(Ee),de(x({content:"",conversationId:e.conversationId,isSend:!1,userFriendId:e._id,username:e.username,birthday:e.birthday,email:e.email,image:e.image,sex:e.sex,time:""}))}));var be=function(e,t,n,a,r){he.emit("sendMessage",{message:e,room:n,idUserSend:t,idUserRecive:n,conversationId:a,image:r.image,email:r.email,sex:r.sex,birthday:r.birthday,username:r.username})},Ne=n(275),Ie=n(51),Oe=function(){var e=Object(a.useState)(""),t=Object(W.a)(e,2),n=t[0],c=t[1],i=Object(o.c)((function(e){return e.login})).userId,s=Object(o.c)((function(e){return e.chat.userSelect})),l=Object(o.c)((function(e){return e.chat})),u=l.idUserRecive,m=l.conversationId;return r.a.createElement(Ne.a,{value:n,onKeyDown:function(e){return function(e){"Enter"===e.key&&u&&m&&(be(n,i,u,m,s),c(""))}(e)},onChange:function(e){return c(e.target.value)},icon:r.a.createElement(Ie.a,{onClick:function(){u&&m&&(be(n,i,u,m,s),c(""))},name:"send",inverted:!0,circular:!0,link:!0}),placeholder:"Nh\u1eadp tin nh\u1eafn ..."})},je=r.a.memo((function(){var e=Object(o.c)((function(e){return e.login.userId})),t=Object(o.b)();return Object(a.useEffect)((function(){e&&t(S())}),[]),r.a.createElement("div",{className:"chat-page"},r.a.createElement(s.a,null,r.a.createElement(l.a,null,r.a.createElement(u.a,{computer:4,className:"chat-page-listchat"},r.a.createElement(P,null)),r.a.createElement(u.a,{computer:12,className:"chat-page-content"},r.a.createElement(s.a,null,r.a.createElement(l.a,null,r.a.createElement(u.a,{computer:12},r.a.createElement(_,null),r.a.createElement("div",{className:"chat-main"},r.a.createElement(Oe,null))),r.a.createElement(u.a,{computer:4},r.a.createElement(z,null))))))))})),ye=(n(226),n(238)),Se=(n(227),function(){var e=Object(a.useState)(""),t=Object(W.a)(e,2),n=t[0],c=t[1],i=Object(a.useState)(""),s=Object(W.a)(i,2),l=s[0],u=s[1],m=Object(o.b)();return r.a.createElement("div",{className:"form-login"},r.a.createElement("p",{className:"form-login-title"},"T\xean \u0110\u0103ng Nh\u1eadp"),r.a.createElement(Ne.a,{value:n,onChange:function(e){return c(e.target.value)}}),r.a.createElement("p",{className:"form-login-title"},"M\u1eadt Kh\u1ea9u"),r.a.createElement(Ne.a,{type:"password",value:l,onChange:function(e){return u(e.target.value)}}),r.a.createElement(ye.a,{color:"twitter",onClick:function(e){m(J({namelogin:n,password:l}))}},"\u0110\u0103ng nh\u1eadp"),r.a.createElement("div",{className:"clear"}),r.a.createElement("p",null,"B\u1ea1n Ch\u01b0a c\xf3 t\xe0i kho\u1ea3n ?"),r.a.createElement(ye.a,{basic:!0,color:"grey"},"\u0110\u0103ng k\xfd"))}),Fe=function(){return Object(o.c)((function(e){return e.login.isLoggedIn}))&&Ye.push("/chat"),r.a.createElement("div",{className:"login-page"},r.a.createElement(s.a,null,r.a.createElement(l.a,null,r.a.createElement(u.a,{computer:11,className:"wrap-cont"},r.a.createElement("div",{className:"cont"}),r.a.createElement("p",{className:"title-cont"},"MessDev"),r.a.createElement("p",{className:"title-cont-sub"},"\u0110\u0103ng nh\u1eadp \u0111\u1ec3 v\xe0o trang ch\u1ee7 \ud83c\udf89\ud83c\udf89\ud83c\udf89")),r.a.createElement(u.a,{computer:5},r.a.createElement(Se,null)))))},Ce=n(14),we=n(279),ke=n(276),Le=function(e){var t=e.inverted,n=void 0===t||t,a=e.content;return r.a.createElement(we.a,{active:!0,inverted:n},r.a.createElement(ke.a,{content:a}))},Re=(n(228),n(278)),Ue=(n(229),n(154)),xe=n.n(Ue),Ae=n(155),Te=n.n(Ae),Ve=r.a.memo((function(){var e=Object(a.useState)(""),t=Object(W.a)(e,2),n=t[0],c=t[1],i=Object(o.b)();return r.a.createElement("div",{className:"search-input"},r.a.createElement(Ne.a,{placeholder:"Nh\u1eadp t\xean c\u1ea7n t\xecm...",value:n,onChange:function(e){return c(e.target.value)},onKeyDown:function(e){return function(e){"Enter"===e.key&&i(C(n))}(e)}}))})),Be=(n(230),r.a.memo((function(e){var t=Object(o.b)(),n=function(){N.verifyFriend(e.friendId).then((function(n){var a;a=e.friendId,he.emit("acceptFriend",{conversationId:a}),t(ie(e.friendId)),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5e3;Object(O.b)(e,{position:"top-right",autoClose:t,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}("\ud83d\ude80 Th\xeam Th\xe0nh C\xf4ng, B\xe2y gi\u1edd c\xe1c b\u1ea1n \u0111\xe3 l\xe0 b\u1ea1n b\xe8"),t(x({content:"",conversationId:e.friendId,isSend:!1,userFriendId:e.userFriendId,username:e.username,birthday:e.birthday,email:e.email,image:e.image,sex:e.sex,time:""}))})).catch((function(e){j("Th\xeam Th\u1ea5t B\u1ea1i")}))};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"fri-ver"},e.image?r.a.createElement("img",{src:e.image,alt:"logo"}):r.a.createElement(V.a,null),r.a.createElement("div",null,r.a.createElement("p",null,e.username)),r.a.createElement("div",{className:"wrap-btn"},r.a.createElement(ye.a,{color:"twitter",content:"Ch\u1ea5p Nh\u1eadn",onClick:function(e){return n()}}),r.a.createElement(ye.a,{color:"red",content:"X\xf3a",onClick:function(n){N.unFriend(e.friendId).then((function(n){t(se(e.friendId))}))}}))),r.a.createElement("div",{className:"line"}))}))),_e=(n(231),function(){var e=Object(o.c)((function(e){return e.nav.listFriendNotVerify}));return r.a.createElement("div",{className:"list-fri-ver"},r.a.createElement("p",{className:"title"},"L\u1eddi M\u1eddi K\u1ebft B\u1ea1n \ud83c\udf89\ud83c\udf89\ud83c\udf89"),e.map((function(e){return r.a.createElement(Be,{birthday:e.birthday,email:e.email,sex:e.sex,key:e.friendId,userFriendId:e.userFriendId,username:e.username,friendId:e.friendId,image:e.image})})))}),Me={sendImage:function(e){return b.postForm("image",e)}},De=n(71),Ke=r.a.memo((function(){var e=Object(o.c)((function(e){return e.login})).image,t=r.a.useState(null),n=Object(W.a)(t,2),c=n[0],i=n[1],s=Boolean(c),l=s?"simple-popover":void 0,u=Object(o.b)(),m=function(e){var t=e.target.files;if(FileReader&&t&&t[0]){var n=t[0];new Promise((function(e){var t=new FileReader;t.onload=function(){var n=t.result+"";e(n)},t.readAsDataURL(n)})).then((function(e){Me.sendImage(e+"").then((function(e){u(ee(e.imageUrl))}))}))}},d=Object(a.useState)(""),f=Object(W.a)(d,2),p=f[0];f[1];return Object(a.useEffect)((function(){N.getListNotVerify().then((function(e){u(ce(e))})).catch((function(e){}))}),[]),r.a.createElement("div",{className:"nav"},r.a.createElement("div",{className:"title"},r.a.createElement(De.a,{to:"/chat"},"MessDev ")),r.a.createElement(Ve,null),r.a.createElement("div",{className:"icons"},e?r.a.createElement(r.a.Fragment,null,r.a.createElement("img",{src:e,alt:"img"}),r.a.createElement("label",{htmlFor:"file-upload",className:"custom-file-upload"},"\u0110\u1ed5i \u1ea3nh \u0111\u1ea1i di\u1ec7n"),r.a.createElement("input",{id:"file-upload",type:"file",name:"image",onChange:m,value:p,className:"form-input"})):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"wrap-icon"},r.a.createElement(V.a,null)),r.a.createElement("label",{htmlFor:"file-upload",className:"custom-file-upload"},"\u0110\u1ed5i \u1ea3nh \u0111\u1ea1i di\u1ec7n"),r.a.createElement("input",{id:"file-upload",type:"file",name:"image",onChange:m,value:p,className:"form-input"})),r.a.createElement("div",{className:"wrap-icon",onClick:function(e){i(s?null:e.currentTarget)}},r.a.createElement(xe.a,null),r.a.createElement(Re.a,{id:l,open:s,anchorEl:c,onClose:function(){i(null)},anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"center"}},r.a.createElement(_e,null))),r.a.createElement("div",{className:"wrap-icon",onClick:function(e){u($())}},r.a.createElement(Te.a,null))))})),Pe=n(277),We=n(120),ze=function(e){var t=e.isFriend,n=e.username,c=e.image,i=e.isSend,s=e.id,l=Object(a.useState)(i||!1),u=Object(W.a)(l,2),m=u[0],d=u[1],f=Object(o.c)((function(e){return e.login.userId})),p=function(){var e,t;e=f,t=s,he.emit("sendInvitationFriend",{idUserSend:e,idUserRecive:t,room:t}),d(!0)};return r.a.createElement(Pe.a,null,r.a.createElement("div",{className:"fri-item"},c?r.a.createElement("img",{src:c,alt:"img"}):r.a.createElement(V.a,null),r.a.createElement("div",{className:"cont"},r.a.createElement("p",{className:"title"},n),r.a.createElement("p",{className:"status"},t?"B\u1ea1n B\xe8":"Ch\u01b0a K\u1ebft B\u1ea1n")),m?r.a.createElement(We.a,{content:"\u0110\xe3 G\u1eedi L\u1eddi M\u1eddi K\u1ebft B\u1ea1n Vui L\xf2ng Ch\u1edd",color:"grey",basic:!0}):t?r.a.createElement(ye.a,{color:"twitter",onClick:function(e){Ye.push("/chat")}},"Nh\u1eafn tin"):r.a.createElement(ye.a,{color:"green",onClick:function(e){return p()}},"k\u1ebft b\u1ea1n")))},He=function(){var e=Object(o.c)((function(e){return e.chat.listFriendSearch}));return r.a.createElement("div",{className:"list-fri"},e.map((function(e){return r.a.createElement(ze,{id:e.id,isSend:e.isSend,isFriend:e.isFriend,username:e.username,image:e.image})})))},Ge=(n(233),function(){return r.a.createElement("div",{className:"fri-page"},r.a.createElement(He,null))}),Je=n(157),qe=function(e){var t=e.component,n=Object(Je.a)(e,["component"]),a=Object(o.c)((function(e){return e.login.isLoggedIn}));return r.a.createElement(Ce.b,Object.assign({},n,{render:function(e){return a?r.a.createElement(t,e):r.a.createElement(Ce.a,{to:"/"})}}))},Xe=Object(Ce.g)((function(){var e=Object(o.c)((function(e){return e.login.appLoaded})),t=Object(o.b)();return Object(a.useEffect)((function(){G.getCurrent().then((function(e){var n;t(Y({userId:e.userId,image:e.image})),n=e.userId,Ee=n,console.log("create room"),he.emit("privatechatroom",n)})).catch((function(e){t(Z()),Ye.push("/")}))}),[]),e?r.a.createElement("div",{id:"app"},r.a.createElement(Ce.b,{path:"/",component:Fe,exact:!0}),r.a.createElement(Ce.b,{path:"/(.+)",render:function(){return r.a.createElement(a.Fragment,null,r.a.createElement(Ke,null),r.a.createElement(Ce.d,null,r.a.createElement(qe,{component:je,path:"/chat"}),r.a.createElement(qe,{component:Ge,path:"/friend"})))}}),r.a.createElement(O.a,null)):r.a.createElement(Le,{content:"Loading app..."})})),Qe=n(21),Ye=(n(234),n(235),Object(Qe.a)());i.a.render(r.a.createElement(Ce.c,{history:Ye},r.a.createElement(o.a,{store:fe},r.a.createElement(Xe,null))),document.getElementById("root"))}},[[169,1,2]]]);
//# sourceMappingURL=main.c300db45.chunk.js.map